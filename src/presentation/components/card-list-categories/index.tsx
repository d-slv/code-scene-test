import React, {Dispatch, SetStateAction, useEffect, useState} from 'react';
import {MdKeyboardArrowDown, MdKeyboardArrowUp} from 'react-icons/md';
import * as S from './style';

type CardListCategoriesProps = {
	title: string;
	setShow?: Dispatch<SetStateAction<boolean>>;
	setSelectedCategory?: Dispatch<SetStateAction<string>>;
};

export const CardListCategories: React.FC<CardListCategoriesProps> = ({
	title,
	setShow,
	setSelectedCategory,
}) => {
	const [isActive, setIsActive] = useState(false);
	const [query, setQuery] = useState({matches: window.matchMedia('(min-width: 820px)').matches});

	useEffect(() => {
		const handler = e => setQuery({matches: e.matches});
		window.matchMedia('(min-width: 820px)').addEventListener('change', handler);
	}, []);

	const items = [
		{
			id: 1,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Alteração Cadastral',
		},
		{
			id: 2,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Imposto de Renda',
		},
		{
			id: 3,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Coronavírus',
		},
		{
			id: 4,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Primeiros Passos',
		},
		{
			id: 5,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Biometria',
		},
		{
			id: 6,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Autoatendimento',
		},
		{
			id: 7,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Autorização',
		},
		{
			id: 8,
			icon: (
				<svg
					width="26"
					height="26"
					viewBox="0 0 26 26"
					fill="#575757"
					xmlns="http://www.w3.org/2000/svg">
					<path d="M13 6.5C12.1965 6.5 11.4111 6.73826 10.743 7.18465C10.0749 7.63105 9.55422 8.26552 9.24674 9.00785C8.93926 9.75017 8.85881 10.567 9.01556 11.3551C9.17231 12.1431 9.55923 12.867 10.1274 13.4351C10.6955 14.0033 11.4194 14.3902 12.2074 14.5469C12.9955 14.7037 13.8123 14.6232 14.5547 14.3158C15.297 14.0083 15.9315 13.4876 16.3778 12.8195C16.8242 12.1514 17.0625 11.366 17.0625 10.5625C17.0625 9.48506 16.6345 8.45175 15.8726 7.68988C15.1108 6.92801 14.0774 6.5 13 6.5Z" />
					<path d="M13 1.625C10.7502 1.625 8.551 2.29213 6.68039 3.54203C4.80978 4.79193 3.35182 6.56847 2.49088 8.64698C1.62993 10.7255 1.40467 13.0126 1.84357 15.2192C2.28248 17.4257 3.36584 19.4525 4.95667 21.0433C6.54749 22.6342 8.57432 23.7175 10.7809 24.1564C12.9874 24.5953 15.2745 24.3701 17.353 23.5091C19.4315 22.6482 21.2081 21.1902 22.458 19.3196C23.7079 17.449 24.375 15.2498 24.375 13C24.3716 9.98422 23.172 7.09294 21.0395 4.96046C18.9071 2.82798 16.0158 1.62844 13 1.625V1.625ZM19.4935 20.2524C19.4773 19.1866 19.0431 18.1699 18.2844 17.4213C17.5258 16.6726 16.5034 16.252 15.4375 16.25H10.5625C9.49665 16.252 8.47425 16.6726 7.71558 17.4213C6.95691 18.1699 6.5227 19.1866 6.50651 20.2524C5.03309 18.9367 3.99404 17.2046 3.52693 15.2853C3.05983 13.366 3.18671 11.3501 3.89077 9.50451C4.59484 7.65893 5.84287 6.07073 7.46962 4.95021C9.09637 3.82969 11.0251 3.22971 13.0004 3.22971C14.9757 3.22971 16.9045 3.82969 18.5312 4.95021C20.158 6.07073 21.406 7.65893 22.1101 9.50451C22.8141 11.3501 22.941 13.366 22.4739 15.2853C22.0068 17.2046 20.9677 18.9367 19.4943 20.2524H19.4935Z" />
				</svg>
			),
			text: 'Pagamento',
		},
	];

	const renderIcon = () => {
		if (isActive) {
			return <MdKeyboardArrowUp />;
		}
		return <MdKeyboardArrowDown />;
	};

	return (
		<>
			{!query.matches ? (
				<S.ContainerCardsService>
					<S.CardListCategories>
						<S.Title onClick={() => setIsActive(!isActive)}>
							{title}
							{renderIcon()}
						</S.Title>
						{isActive && (
							<S.ContentItem>
								{items.map(item => (
									<S.Item
										key={item.id}
										onClick={() => {
											setSelectedCategory(item.text);
											setShow(true);
											setIsActive(!isActive);
										}}>
										<S.Link>
											{item.icon}
											{item.text}
										</S.Link>
									</S.Item>
								))}
							</S.ContentItem>
						)}
					</S.CardListCategories>
				</S.ContainerCardsService>
			) : (
				<S.ContainerCardsService>
					<S.CardListCategories>
						<S.Title>{title}</S.Title>
						<S.ContentItem>
							{items.map(item => (
								<S.Item
									key={item.id}
									onClick={() => {
										setSelectedCategory(item.text);
										setShow(true);
									}}>
									<S.Link>
										{item.icon}
										{item.text}
									</S.Link>
								</S.Item>
							))}
						</S.ContentItem>
					</S.CardListCategories>
				</S.ContainerCardsService>
			)}
		</>
	);
};
